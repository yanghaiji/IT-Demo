## 一、Flyway是什么
官网解释地非常全面，可先大致阅读一下。

简单地说，flyway是一个能对数据库变更做版本控制的工具。

## 二、为什么要用Flyway
在多人开发的项目中，我们都习惯了使用SVN或者Git来对代码做版本控制，主要的目的就是为了解决多人开发代码冲突和版本回退的问题。

其实，数据库的变更也需要版本控制，在日常开发中，我们经常会遇到下面的问题：

自己写的SQL忘了在所有环境执行；
别人写的SQL我们不能确定是否都在所有环境执行过了；
有人修改了已经执行过的SQL，期望再次执行；
需要新增环境做数据迁移；
每次发版需要手动控制先发DB版本，再发布应用版本；
其它场景...
有了flyway，这些问题都能得到很好的解决。

## 使用方式
其次，在src/main/resources目录下面新建db.migration文件夹，默认情况下，该目录下的.sql文件就算是需要被flyway做版本控制的数据库SQL语句。

但是此处的SQL语句命名需要遵从一定的规范，否则运行的时候flyway会报错。命名规则主要有两种：

仅需要被执行一次的SQL命名以大写的"V"开头，后面跟上"0~9"数字的组合,数字之间可以用“.”或者下划线"_"分割开，然后再以两个下划线分割，其后跟文件名称，最后以.sql结尾。比如，V2.1.5__create_user_ddl.sql、V4.1_2__add_user_dml.sql。
可重复运行的SQL，则以大写的“R”开头，后面再以两个下划线分割，其后跟文件名称，最后以.sql结尾。。比如，R__truncate_user_dml.sql。
其中，V开头的SQL执行优先级要比R开头的SQL优先级高。
